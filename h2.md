# h2

## Kesken @ 2.9.2025 9:27. Jatkan loppuun kun ehdin. x + a-f tehty

## x) Lue/katso/kuuntele ja tiivistä

Mastering Metasploit - 4ed: Chapter 1: Approaching a Penetration Test Using Metasploit

  - Ensimmäinen kappale käy läpi tunkeutumisen eri vaiheet
  - Sen jälkeen käydään nämä vaiheet läpi Metasploitin avulla
  - Hyvin selkeät ja kohta kohdalta ohjeet, miten Metasploitia käyteään hyödyksi tunkeutumistestauksessa
  - Metasploitin ja Meterpreterin peruskomennot
  - Lisäksi eri hyötyjä, tietokantojen käyttöä ja porttiskannauksen ohjeet

## a) Osoita testein, että 1) koneet eivät saa yhteyttä Internetiin 2) Koneet saavat yhteyden toisiinsa.

Pingattu Metasploitable ja 8.8.8.8. Kuvassa näkyy, että yhteys on vain Metasploitable-koneeseen.

<img width="545" height="309" alt="image" src="https://github.com/user-attachments/assets/40b8c034-d544-4f4f-a51f-9f46d4843e05" />

## b) Ota Metasploit msfconsole käyttöön

<img width="669" height="519" alt="image" src="https://github.com/user-attachments/assets/96d59166-72de-4121-ab2f-09534e378408" />

## c) Etsi Metasploitable porttiskannaamalla (db_nmap -sn).

Kuvasta näkee IP-osoitteen 192.168.23.130, joka on Metasploitable-kone.

<img width="624" height="221" alt="image" src="https://github.com/user-attachments/assets/094e4bfa-376c-41b7-af7f-47a9b15d1f21" />

## d) Porttiskannaa Metasploitable perusteellisesti. Skannaa kaikki 65535 tcp-porttia. Tallenna tulokset Metasploitin tietokantoihin (db_nmap) ja tiedostoihin (nmap -oA foo).

Sitten porttiskannasin Metasploitablen db_nmap -p- 192.168.23.130

<img width="610" height="607" alt="image" src="https://github.com/user-attachments/assets/5013eb07-0734-4643-947e-6e8bf98972ce" />

Portit tallennettu myös tiedostoihin. Tässä käytin komentoa sudo nmap -p- 192.168.23.130 -oA. -oA tallentaa .gnmap .nmap ja .xml tiedostot.

<img width="522" height="77" alt="image" src="https://github.com/user-attachments/assets/2434061e-f8cc-4fd0-9d2b-89ceacef02c7" />

## e)  Tarkastele Metasploitin tietokantoihin tallennettuja tietoja komennoilla "hosts" ja "services". Kokeile suodattaa näitä listoja tai hakea niistä.

Kaikki 'services'

<img width="472" height="595" alt="image" src="https://github.com/user-attachments/assets/037baf16-4ba9-43e7-bc03-5bbf67fa0137" />

Suodatettu vain portti 22.

<img width="411" height="125" alt="image" src="https://github.com/user-attachments/assets/8597f6e8-7623-405b-8b7a-52bb960d2185" />

## f)  Vertaile nmap:n omaa tiedostoon tallennusta (-oA foo) ja db_nmap:n tallennusta tietokantoihin. Mitkä ovat eri tiedostomuotojen ja Metasploitin tietokannan hyvät puolet?

-oA tallensi tiedoston kolmella eri tavalla, joista .xml voidaan syöttää suoraan esim Metasploitille. .nmap ja services tallennukset olivat aikalailla samanlaiset.

## g) 

Tässä etsin vsftpd msfconsolessa.

<img width="858" height="193" alt="image" src="https://github.com/user-attachments/assets/07632c41-1500-4293-9e83-1adfe8997252" />








